<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Government Employee Rating System</title>

<style>
:root{
  --bg1:#6a0dad;
  --bg2:#9d4edd;
  --container:#f4ecfb;
  --text:#1a1a1a;
  --font:system-ui;
  --drawer-bg: rgba(36,0,70,0.8);
  /* defaults for rgba variants (container 60% opaque) */
  --container-rgba: rgba(244,236,251,0.6);
  --button-bg: rgba(244,236,251,0.12);
  --button-hover: rgba(244,236,251,0.22);
  --button-text: var(--text);
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:var(--font);
  background:linear-gradient(135deg,var(--bg1),var(--bg2));
  color:var(--text);
}

/* animated default background when no custom theme applied */
.animated-bg{
  background: linear-gradient(120deg, #6a0dad 0%, #3498db 40%, #e74c3c 80%);
  background-size: 300% 300%;
  animation: bgShift 18s ease-in-out infinite;
}
@keyframes bgShift{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

/* HEADER */
header{
  position:sticky; top:0; z-index:50;
  display:grid; grid-template-columns:auto 1fr;
  gap:12px; padding:14px 18px;
  background:rgba(0,0,0,.3);
  backdrop-filter:blur(6px);
  color:#fff;
}
.menu-btn{background:none;border:none;font-size:22px;color:#fff;cursor:pointer}
header h1{margin:0;font-size:1.05rem}

/* TOP CONTROLS */
.top-controls{
  display:flex; gap:10px;
  padding:12px 18px;
  background:rgba(0,0,0,.15);
}
select,button{
  padding:6px 8px;border-radius:6px;
  border:none;font-family:inherit;
}

/* DRAWER */
.overlay{
  position:fixed; inset:0;
  background:rgba(0,0,0,.45);
  display:none; z-index:80;
}
.drawer{
  position:fixed; top:0; left:-260px;
  width:260px; height:100%;
  background:var(--drawer-bg); color:#fff;
  padding:20px; transition:left .3s;
  z-index:90;
}
.drawer.open{left:0}
.drawer-header{
  display:flex; justify-content:space-between;
  margin-bottom:24px;
}
.drawer a{
  display:block; padding:12px 0;
  color:#fff; text-decoration:none;
}
.close-btn{
  background:none;border:none;
  font-size:22px;color:#fff;cursor:pointer;
}

/* MAIN */
main{
  max-width:900px;
  margin:auto;
  padding:28px 18px 70px;
}
.section{
  background:var(--container-rgba);
  border-radius:16px;
  padding:26px;
  margin-bottom:28px;
  line-height:1.7;
}
.section h2{margin-top:0}

/* SCORE */
.score-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
  gap:16px;
}
.score-box{
  background:var(--container-rgba);
  border-radius:12px;
  padding:16px;
  text-align:center;
  font-weight:600;
}

/* COMMENTS – INSTAGRAM STYLE */
.comments-list{
  display:flex;
  flex-direction:column;
  gap:16px;
}
.comment{
  display:flex;
  gap:12px;
  align-items:flex-start;
}
.avatar{
  width:44px;height:44px;
  border-radius:50%;
  overflow:hidden;
  background:#bbb;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  color:#fff;
  flex-shrink:0;
}
.avatar img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}
.comment-body{
  background:var(--container-rgba);
  border-radius:14px;
  padding:10px 14px;
  width:100%;
  display:flex; flex-direction:column; gap:8px;
  word-break:break-word; overflow-wrap:anywhere;
}
.comment-text{ margin:0; white-space:pre-wrap; }
.comment-body b{
  display:block;
  font-size:.95rem;
  margin:0; padding-bottom:4px;
}
.comment-nav{
  display:flex;
  justify-content:space-between;
  margin-top:8px;
}
.comment-nav button{
  background:#ddd;
}

/* ADD COMMENT FORM */
.rules{
  font-size:.9rem;
  opacity:.8;
  margin-bottom:12px;
}
/* only text-like inputs should stretch full width; keep checkboxes/radios/buttons unaffected */
form input[type="text"],
form input[type="email"],
form input[type="search"],
form input[type="url"],
form input[type="tel"],
form input[type="number"],
form input[type="password"],
form textarea{
  width:100%;
  padding:8px;
  margin-top:10px;
  font-family:inherit;
  max-width:100%;
}
textarea{resize:vertical}

form label{
  display:flex; align-items:center; gap:10px; margin-top:10px; cursor:pointer;
  user-select:none; color:var(--text);
}
form input[type="checkbox"]{
  width:auto; height:auto; margin:0; transform:translateY(0);
}

/* Buttons: use theme container color on hover and simple base style */
button{
  background:var(--button-bg); border:1px solid rgba(0,0,0,0.06); padding:8px 10px; border-radius:8px; cursor:pointer; transition:background .18s,transform .12s; color:var(--button-text);
  box-shadow: 0 1px 0 rgba(0,0,0,0.04);
}
button:hover{ background:var(--button-hover); transform:translateY(-2px); }

/* per-letter pop animation */
.letter{ display:inline-block; transition:transform .18s ease, color .12s ease; }
.letter.pop{ transform: translateY(-8px) scale(1.06); color: rgba(0,0,0,0.85); }

/* MODAL */
.modal{
  position:fixed; inset:0;
  display:none;
  justify-content:center; align-items:center;
  background:rgba(0,0,0,.45);
  backdrop-filter:blur(4px);
  z-index:200;
}
.modal-box{
  background:var(--container-rgba);
  border-radius:16px;
  padding:24px;
  width:90%; max-width:420px;
}
.modal-actions{
  display:flex; gap:12px;
  margin-top:20px;
}
.theme-desc{ font-size:0.9rem; margin:8px 0 14px; opacity:0.95; color:var(--text); }
/* modal form layout */
.modal-box label{ display:block; margin-top:12px; font-weight:600; }
.modal-box input[type="color"]{ width:64px; height:36px; padding:4px; border-radius:8px; border:1px solid rgba(0,0,0,0.08); background:#fff; margin-top:6px; }
.modal-box select{ margin-top:8px; }
.persistent-dialog{ display:none; }
.persistent-dialog[aria-hidden="false"]{ display:flex; }
.persistent-dialog .modal-box{ max-width:520px; }
</style>
</head>

<body>

<div class="overlay" id="overlay" onclick="closeDrawer()"></div>

<nav class="drawer" id="drawer">
  <div class="drawer-header">
    <span data-i18n="menu"></span>
    <button class="close-btn" onclick="closeDrawer()">×</button>
  </div>
  <a href="#" data-i18n="home"></a>
  <a href="#" data-i18n="about"></a>
  <a href="#" data-i18n="more"></a>
</nav>

<header>
  <button class="menu-btn" id="hamburger" onclick="openDrawer()">☰</button>
  <h1 data-i18n="title"></h1>
</header>

<div class="top-controls">
  <select id="langSelect" onchange="loadLanguage(this.value)">
    <option value="en">English</option>
    <option value="hi">हिन्दी</option>
    <option value="ml">മലയാളം</option>
  </select>
  <button onclick="openTheme()" data-i18n="theme"></button>
</div>

<main>

<div class="section">
  <h2 data-i18n="idea"></h2>
  <p data-i18n="p1"></p>
  <p data-i18n="p2"></p>
  <p data-i18n="p3"></p>
  <p data-i18n="p4"></p>
  <p data-i18n="p5"></p>
  <p data-i18n="p6"></p>
</div>

<div class="section"><h2 data-i18n="pros"></h2><p data-i18n="prosText"></p></div>
<div class="section"><h2 data-i18n="cons"></h2><p data-i18n="consText"></p></div>
<div class="section"><h2 data-i18n="fixes"></h2><p data-i18n="fixesText"></p></div>

<div class="section">
  <h2 data-i18n="scoreTitle"></h2>
  <div class="score-grid">
    <div class="score-box"><span data-i18n="lastWeek"></span><br>72</div>
    <div class="score-box"><span data-i18n="current"></span><br>78</div>
    <div class="score-box"><span data-i18n="rank"></span><br>High</div>
  </div>
</div>

<div class="section">
  <h2 data-i18n="conclusion"></h2>
  <p data-i18n="final"></p>
  <p><b data-i18n="source"></b><br>~ Brain</p>
</div>

<!-- COMMENTS -->
<div class="section">
  <h2 data-i18n="publicComments"></h2>

  <div id="comments" class="comments-list"></div>

  <div class="comment-nav">
    <button onclick="prevComments()">Previous</button>
    <button onclick="nextComments()">Next</button>
  </div>
</div>

<!-- ADD COMMENT -->
<div class="section">
  <h2 data-i18n="addComment"></h2>

  <div class="rules">
 Please keep respectful language. No abuse, hate speech, or personal attacks.<br> Comments may be moderated before being shown publicly.
  </div>

  <form action="https://formsubmit.co/akshaydj56774@gmail.com" method="POST">
    <input type="text" name="name" placeholder="Your name (optional)" maxlength="80">
    <textarea name="comment" placeholder="Your comment" required maxlength="1000"></textarea>
    <label>
      <input type="checkbox" name="public" value="yes" required>
      I consent to post this publicly,including name and comment content.
    </label>
    <button type="submit">Submit</button>

    <input type="hidden" name="_captcha" value="false">
    <input type="hidden" name="_template" value="table">
    <input type="hidden" name="_next" value="https://kmrxz.github.io/modpage/mypage.html">
  </form>
</div>

</main>

<div class="modal" id="themeModal">
  <div class="modal-box">
    <h3 data-i18n="themeSettings">Theme Settings</h3>
    <p class="theme-desc">Choose page, container and text colors. Avoid pairing a dark background with a dark text color — that reduces readability. Theme changes are saved locally; refreshing the page will not clear them. Use the <strong>Default</strong> button below to revert.</p>

    <label for="bgColor">Page background</label>
    <input type="color" id="bgColor">

    <label for="containerColor">Container background</label>
    <input type="color" id="containerColor">

    <label for="textColor">Text color</label>
    <input type="color" id="textColor">

    <label for="fontSelect">Font</label>
    <select id="fontSelect">
      <option value="system-ui">System</option>
      <option>Arial</option><option>Georgia</option><option>Verdana</option>
    </select>

    <div class="modal-actions">
      <button onclick="applyTheme()">Apply</button>
      <button onclick="resetTheme()">Default</button>
      <button onclick="closeTheme()">Close</button>
    </div>
  </div>
</div>

<!-- Persistent dialog shown after submit or on validation error -->
<div class="modal persistent-dialog" id="submitDialog" aria-hidden="true">
  <div class="modal-box">
    <h3 id="submitDialogHeading">Comment sent for review</h3>
    <p id="submitDialogMessage">Your comment will be reviewed before pushing to the host. database is under learning.</p>
    <div class="modal-actions">
      <button id="submitDialogClose">Close</button>
    </div>
  </div>
</div>

<script>
/* DRAWER */
const drawer=document.getElementById("drawer");
const overlay=document.getElementById("overlay");
const hamburger=document.getElementById("hamburger");
function openDrawer(){drawer.classList.add("open");overlay.style.display="block";hamburger.style.visibility="hidden";}
function closeDrawer(){drawer.classList.remove("open");overlay.style.display="none";hamburger.style.visibility="visible";}

/* THEME */
function openTheme(){
  // populate color inputs with current CSS variables for convenient editing
  const root = getComputedStyle(document.documentElement);
  try{ bgColor.value = (root.getPropertyValue('--bg1')||'#6a0dad').trim(); }catch(e){}
  try{ containerColor.value = (root.getPropertyValue('--container')||'#f4ecfb').trim(); }catch(e){}
  try{ textColor.value = (root.getPropertyValue('--text')||'#1a1a1a').trim(); }catch(e){}
  try{ fontSelect.value = (root.getPropertyValue('--font')||'system-ui').trim(); }catch(e){}
  // attach live preview handlers (do not save)
  bgColor.oninput = (e)=>{ document.documentElement.style.setProperty('--bg1', e.target.value); };
  containerColor.oninput = (e)=>{
    document.documentElement.style.setProperty('--container', e.target.value);
    document.documentElement.style.setProperty('--container-rgba', hexToRgba(e.target.value, 0.6));
    document.documentElement.style.setProperty('--drawer-bg', hexToRgba(e.target.value, 0.8));
    document.documentElement.style.setProperty('--button-bg', hexToRgba(e.target.value, 0.12));
    document.documentElement.style.setProperty('--button-hover', hexToRgba(e.target.value, 0.22));
  };
  textColor.oninput = (e)=>{ document.documentElement.style.setProperty('--text', e.target.value); document.documentElement.style.setProperty('--button-text', e.target.value); };
  fontSelect.oninput = (e)=>{ document.documentElement.style.setProperty('--font', e.target.value); };
  themeModal.style.display = 'flex';
}
function closeTheme(){ themeModal.style.display = "none"; }

function hexToRgba(hex, alpha){
  if(!hex) return `rgba(0,0,0,${alpha})`;
  hex = hex.replace('#','');
  if(hex.length===3) hex = hex.split('').map(s=>s+s).join('');
  const r = parseInt(hex.substring(0,2),16);
  const g = parseInt(hex.substring(2,4),16);
  const b = parseInt(hex.substring(4,6),16);
  return `rgba(${r},${g},${b},${alpha})`;
}

function applyTheme(){
  document.documentElement.style.setProperty("--bg1", bgColor.value);
  document.documentElement.style.setProperty("--container", containerColor.value);
  document.documentElement.style.setProperty("--text", textColor.value);
  document.documentElement.style.setProperty("--font", fontSelect.value);
  // compute drawer background from container color with 0.8 alpha
  document.documentElement.style.setProperty("--drawer-bg", hexToRgba(containerColor.value, 0.8));
  // compute container rgba (60% alpha) and button colors
  document.documentElement.style.setProperty("--container-rgba", hexToRgba(containerColor.value, 0.6));
  document.documentElement.style.setProperty("--button-bg", hexToRgba(containerColor.value, 0.12));
  document.documentElement.style.setProperty("--button-hover", hexToRgba(containerColor.value, 0.22));
  // remove animated default background when a theme is applied
  document.body.classList.remove('animated-bg');
  localStorage.setItem("theme", JSON.stringify({
    bg: bgColor.value,
    container: containerColor.value,
    text: textColor.value,
    font: fontSelect.value
  }));
  closeTheme();
}

function resetTheme(){ localStorage.removeItem("theme"); location.reload(); }

const savedTheme = JSON.parse(localStorage.getItem("theme"));
if(savedTheme){
  document.documentElement.style.setProperty("--bg1", savedTheme.bg);
  document.documentElement.style.setProperty("--container", savedTheme.container);
  document.documentElement.style.setProperty("--text", savedTheme.text);
  document.documentElement.style.setProperty("--font", savedTheme.font);
  document.documentElement.style.setProperty("--drawer-bg", hexToRgba(savedTheme.container, 0.8));
  // set rgba and button vars
  document.documentElement.style.setProperty("--container-rgba", hexToRgba(savedTheme.container, 0.6));
  document.documentElement.style.setProperty("--button-bg", hexToRgba(savedTheme.container, 0.12));
  document.documentElement.style.setProperty("--button-hover", hexToRgba(savedTheme.container, 0.22));
  // if there's a saved theme, keep background static
  document.body.classList.remove('animated-bg');
} else {
  // default: animated gradient background
  document.body.classList.add('animated-bg');
}

/* LANGUAGE */
// helper: split a string into user-perceived characters (grapheme clusters)
function splitGraphemes(text){
  try{
    if(typeof Intl !== 'undefined' && Intl.Segmenter){
      return Array.from(new Intl.Segmenter(undefined, {granularity: 'grapheme'}).segment(text), s=>s.segment);
    }
  }catch(e){
    // fall through to Array.from fallback
  }
  return Array.from(text); // fallback: at least preserves surrogate pairs
}
async function loadLanguage(lang){
  try{
    const res=await fetch(`lang/${lang}.txt`,{cache:"no-store"});
    if(!res.ok) throw new Error();
    const txt=await res.text();
    const dict={};
    txt.split("\n").forEach(l=>{
      if(!l.trim()||l.startsWith("#")) return;
      const [k,...v]=l.split("=");
      dict[k.trim()]=v.join("=").trim();
    });
    document.querySelectorAll("[data-i18n]").forEach(el=>{
      const k=el.dataset.i18n;
      el.innerText=dict[k]||"";
    });

    // wrap translated UI text into per-letter spans and setup button letters
    wrapElementsText();
    setupButtonLetters();
    localStorage.setItem("lang",lang);
    langSelect.value=lang;
  }catch{
    if(lang!=="en") loadLanguage("en");
  }
}
loadLanguage(localStorage.getItem("lang")||"en");

// wrap text nodes into per-letter spans for given selectors
function wrapElementsText(selectors){
  if(!selectors) selectors = ['header h1', '.section h2', '.section p', '.rules', '.drawer a', '.modal-box h3', '.modal-box label', '.comment-nav button', '.top-controls button', '.comment-text', '.comment-body b'];
  selectors.forEach(sel=>{
    document.querySelectorAll(sel).forEach(el=>{
      // skip inputs, buttons already processed
      if(el.querySelector('.letter')) return;
      // only process elements with text content
      Array.from(el.childNodes).forEach(node=>{
        if(node.nodeType === Node.TEXT_NODE && node.textContent.trim()){
          const text = node.textContent;
          const frag = document.createDocumentFragment();
          const graphemes = splitGraphemes(text);
          for(const ch of graphemes){
            const span = document.createElement('span');
            span.className = 'letter';
            // preserve regular spaces as non-breaking to avoid collapse between inline-block letters
            span.textContent = (ch === ' ') ? '\u00A0' : ch;
            frag.appendChild(span);
          }
          el.replaceChild(frag, node);
        }
      });
      // add mousemove-based pop behavior per element
      if(!el._letterHandlers){
        el._letterHandlers = true;
        el.addEventListener('mousemove', (ev)=>{
          const rect = el.getBoundingClientRect();
          const x = ev.clientX - rect.left;
          const letters = Array.from(el.querySelectorAll('.letter'));
          letters.forEach((l)=>{
            const lr = l.getBoundingClientRect();
            const lx = lr.left - rect.left + lr.width/2;
            const dist = Math.abs(lx - x);
            if(dist < 40){
              l.classList.add('pop');
              clearTimeout(l._popTimeout);
              l._popTimeout = setTimeout(()=> l.classList.remove('pop'), 220);
            }
          });
        });
      }
    });
  });
}

// call wrapping after language load so translated UI labels are wrapped too
wrapElementsText();

/* COMMENTS PAGINATION + LOAD FROM files/com.txt */
let commentsData = []; // {name, comment}
let page = 0;
const perPage = 5;
const commentsDiv = document.getElementById("comments");

async function fetchCommentsFile(){
  try{
    const res = await fetch('files/com.txt', {cache: 'no-store'});
    if(!res.ok) throw new Error('Comments file not available');
    const text = await res.text();
    const lines = text.split(/\r?\n/);
    commentsData = lines.map(l=>l.trim()).filter(l=>l && !l.startsWith('#')).map(l=>{
      const parts = l.split('|');
      const name = (parts[0]||'Anonymous').trim();
      const comment = (parts.slice(1).join('|')||'').trim();
      return {name, comment};
    });
  }catch(err){
    // fallback to empty
    commentsData = [];
    console.warn('Failed to load comments:', err);
  }
  page = 0;
  renderComments();
}

function renderComments(){
  commentsDiv.innerHTML = '';
  const slice = commentsData.slice(page*perPage, (page+1)*perPage);
  slice.forEach((obj, i)=>{
    const div = document.createElement('div');
    div.className = 'comment';
    div.innerHTML = `
      <div class="avatar">
        <img src="images/cat.webp" onerror="this.remove(); this.parentNode.textContent='U';">
      </div>
      <div class="comment-body">
        <b>${escapeHtml(obj.name)}</b>
        <p class="comment-text">${escapeHtml(obj.comment)}</p>
      </div>`;
    commentsDiv.appendChild(div);
  });
  // re-run letter wrapping for newly added comment text
  wrapElementsText(['.comment-text', '.comment-body b']);
}

function nextComments(){ if((page+1)*perPage < commentsData.length){ page++; renderComments(); } }
function prevComments(){ if(page>0){ page--; renderComments(); } }

// initial load
fetchCommentsFile();

// Ensure the add-comment form uses POST and shows a persistent dialog on submit/error
const commentForm = document.querySelector('form[action*="formsubmit.co"]');
const submitDialog = document.getElementById('submitDialog');
const submitDialogHeading = document.getElementById('submitDialogHeading');
const submitDialogMessage = document.getElementById('submitDialogMessage');
const submitDialogClose = document.getElementById('submitDialogClose');

function showPersistentDialog(state){
  // state: {type:'sent'|'error', heading, message}
  submitDialogHeading.textContent = state.heading || '';
  submitDialogMessage.innerHTML = state.message || '';
  // ensure heading is wrapped into per-letter spans (so spaces are preserved correctly)
  try{ wrapElementsText(['#submitDialogHeading']); }catch(e){}
  submitDialog.setAttribute('aria-hidden','false');
  localStorage.setItem('commentDialog', JSON.stringify({visible:true, state}));
}

function hidePersistentDialog(){
  submitDialog.setAttribute('aria-hidden','true');
  localStorage.removeItem('commentDialog');
}

if(submitDialogClose){ submitDialogClose.addEventListener('click', hidePersistentDialog); }

// restore dialog from storage on load
try{
  const stored = JSON.parse(localStorage.getItem('commentDialog'));
  if(stored && stored.visible && stored.state){
    // show stored dialog
    showPersistentDialog(stored.state);
  }
}catch(e){}

if(commentForm){
  commentForm.method = 'POST';
  commentForm.action = commentForm.action.replace(/\.com\.com/, '.com');
  commentForm.addEventListener('submit', function(e){
    e.preventDefault();
    const name = (this.elements['name'] && this.elements['name'].value.trim()) || 'Anonymous';
    const comment = (this.elements['comment'] && this.elements['comment'].value.trim()) || '';
    const consent = (this.elements['public']);

    // validate required fields
    if(!comment || !consent || !consent.checked){
      const missing = [];
      if(!comment) missing.push('comment');
      if(!consent || !consent.checked) missing.push('consent');
      const heading = 'Incomplete submission';
      const message = 'Please provide the required fields: ' + missing.join(', ') + '. You must write a comment and consent to post publicly.';
      showPersistentDialog({type:'error', heading, message});
      return;
    }

    // optimistic UI update
    commentsData.unshift({name, comment});
    page = 0; renderComments();

    // show sent dialog and persist it so it remains after refresh/navigation
    showPersistentDialog({type:'sent', heading: 'Comment sent for review', message: 'Your comment will be reviewed before pushing to the host. Admin is still learning database :).'});

    // proceed with actual POST
    this.submit();
  });
}

function escapeHtml(s){ return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

/* Per-letter button text and pop animation */
function setupButtonLetters(){
  document.querySelectorAll('button').forEach(btn=>{
    // skip if already processed or complex content
    if(btn.querySelector('.letter')) return;
    const text = btn.textContent.trim();
    if(!text) return;
    // preserve aria-label if exists
    const aria = btn.getAttribute('aria-label');
    btn.textContent = '';
    splitGraphemes(text).forEach(ch=>{
      const span = document.createElement('span');
      span.className = 'letter';
      span.textContent = ch;
      btn.appendChild(span);
    });
    if(aria) btn.setAttribute('aria-label', aria);

    btn.addEventListener('mouseenter', ()=>{
      const letters = btn.querySelectorAll('.letter');
      letters.forEach((l,i)=> setTimeout(()=> l.classList.add('pop'), i*30));
    });
    btn.addEventListener('mouseleave', ()=>{
      const letters = btn.querySelectorAll('.letter');
      letters.forEach((l,i)=> setTimeout(()=> l.classList.remove('pop'), i*12));
    });
    btn.addEventListener('mousemove', (ev)=>{
      const rect = btn.getBoundingClientRect();
      const x = ev.clientX - rect.left;
      const letters = Array.from(btn.querySelectorAll('.letter'));
      letters.forEach(l=>{
        const lr = l.getBoundingClientRect();
        const lx = lr.left - rect.left + lr.width/2;
        const dist = Math.abs(lx - x);
        if(dist < 40){
          l.classList.add('pop');
          clearTimeout(l._popTimeout);
          l._popTimeout = setTimeout(()=> l.classList.remove('pop'), 220);
        }
      });
    });
  });
}
setupButtonLetters();
</script>

</body>
</html>