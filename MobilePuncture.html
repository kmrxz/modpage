<!doctype html>
<html lang="en"> 
<head> 
  <meta charset="UTF-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <title>Puncture Help Ernakulam</title> 
  <style>
    body {
        background-color: #04151f;
        color: #ccc;
        font-family: Arial, Helvetica, sans-serif;
        margin: 0;
        padding: 20px;
    }
    h1 {
        color: white;
        text-align: center;
    }

    /* ---- Top bar ---- */
    .top-bar {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 10px;
        margin: 20px auto;
        max-width: 500px;
    }

    #searchBar {
        flex: 1;
        max-width: 250px;
        padding: 10px;
        border-radius: 5px;
        border: none;
        font-size: 16px;
    }

    /* ---- Dropdown ---- */
    .dropdown {
        position: relative;
    }

    .dropdown-btn {
        background-color: mediumseagreen;
        color: #04151f;
        padding: 10px 16px;
        font-size: 16px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

    .dropdown-content {
        display: none;
        position: absolute;
        right: 0;
        top: 110%;
        background-color: #031018;
        min-width: 160px;
        box-shadow: 0px 8px 16px rgba(0,0,0,0.2);
        border-radius: 5px;
        z-index: 1;
    }

    .dropdown-content a {
        color: #ccc;
        padding: 10px 14px;
        text-decoration: none;
        display: block;
    }

    .dropdown-content a:hover {
        background-color: rgba(255,255,255,0.1);
    }

    .dropdown-content.show {
        display: block;
    }

    /* ---- Contact cards ---- */
    .contact-card {
        background-color: rgba(255, 255, 255, 0.08);
        border-radius: 12px;
        padding: 15px;
        margin: 10px 0;
    }
    .contact-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    .name {
        color: mediumseagreen;
        font-weight: bold;
        font-size: 18px;
    }
    .location {
        color: orange;
        font-size: 14px;
    }
    .phone {
        color: white;
        margin: 8px 0;
        font-size: 24px;
    }
    .btn-container {
        display: flex;
        gap: 10px;
    }
    .btn {
        background-color: mediumseagreen;
        color: #04151f;
        border: none;
        padding: 8px 14px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 14px;
    }
    .btn:hover {
        opacity: 0.9;
    }
    .highlight {
        background-color: yellow;
        color: black;
    }

    /* ---- Toast ---- */
    #toast {
        visibility: hidden;
        min-width: 200px;
        background-color: #333;
        color: #fff;
        text-align: center;
        border-radius: 5px;
        padding: 10px;
        position: fixed;
        z-index: 1000;
        left: 50%;
        bottom: 30px;
        transform: translateX(-50%);
        font-size: 14px;
        opacity: 0;
        transition: opacity 0.5s, bottom 0.5s;
    }
    #toast.show {
        visibility: visible;
        opacity: 1;
        bottom: 50px;
    }

    /* ---- Footer ---- */
    footer {
      background-color: #031018;
      color: #ccc;
      padding: 18px 10px;
      margin-top: 30px;
      text-align: center;
      font-size: 14px;
      border-top: 1px solid rgba(255,255,255,0.08);
    }
    footer a {
      color: mediumseagreen;
      text-decoration: none;
      font-weight: 600;
    }
    footer a:hover {
      text-decoration: underline;
    }
  </style> 
</head> 
<body> 
  <h1>Mobile Puncture Ekm</h1>

  <!-- Top bar with search + dropdown -->
  <div class="top-bar">
    <input type="text" id="searchBar" placeholder="Search..."> 
    <div class="dropdown">
      <button class="dropdown-btn">Menu</button>
      <div class="dropdown-content" id="dropdownMenu">
        <a target="blank_" href="https://kmrxz.github.io/modpage/main.html">Home</a>
        <a href="apps.html">Apps</a>
        <a href="settings.html">Settings</a>
        <a href="about.html">About</a>
      </div>
    </div>
  </div>

  <div id="contacts"></div> 
  <div id="toast">Number copied!</div> 

  <footer> 
    <a href="https://wa.me/+919895700438?text=Hii,i+would+like+to+add+this+number+to+your+webpage">
      <button class="btn">Add NUMBER</button>
    </a>
    <div class="footer-content"> 
      <p>Sibichan ee pageinte ishwaryam</p> 
      <p>Non profitable webpage</p> 
    </div> 
  </footer> 

<script>
const contacts = [
    { name: "Solo Tech(extra distance available)", location: "Vyttila", phone: "+91 86505 05034" },
    { name: "No name", location: "Kakkanad", phone: "+91 95671 77597" },
    { name: "Shihab", location: "Kalamassery", phone: "+91 97464 78468" },
    { name: "No name", location: "Ekm south", phone: "+91 94476 63150" },
    { name: "No name", location: "Ernakulam", phone: "+91 98460 14385" },
    { name: "Nil", location: "All ekm", phone: "+91 98951 67548" },
    { name: "Nil", location: "Elamakkara", phone: "+91 97477 68406" },
    { name: "Saiju", location: "Eroor", phone: "+91 97460 73764" },
    { name: "Nil", location: "Kakkanadu", phone: "+91 80896 51125" },
    { name: "Nil", location: "Maradu", phone: "+91 99475 90559" },
    { name: "Name", location: "Thevara", phone: "+91 98955 24946" },
    { name: "Name", location: "Panampilli", phone: "+91 88485 81492" },
    { name: "Name", location: "Pulleppadi", phone: "+91 98461 11295" },
    { name: "Name", location: "Banerji road", phone: "+91 77366 43204" },
    { name: "Name", location: "Kalamassery", phone: "+91 80896 51125" },
    { name: "Name", location: "Thoppumpadi", phone: "+91 86063 68187" },
    { name: "Name", location: "Pallimumku", phone: "+91 98473 95539" },
    { name: "Name", location: "Locatiom", phone: "+91 0000000000" }
];

const container = document.getElementById("contacts");

// Render contacts
contacts.forEach(c => {
    const card = document.createElement("div");
    card.className = "contact-card";
    card.innerHTML = `
        <div class="contact-header">
            <div class="name">${c.name}</div>
            <div class="location">${c.location}</div>
        </div>
        <div class="phone">${c.phone}</div>
        <div class="btn-container">
            <a href="tel:${c.phone.replace(/\s/g, '')}" class="btn">CALL</a>
            <button class="btn copy-btn" data-phone="${c.phone}">COPY</button>
        </div>
    `;
    container.appendChild(card);
});

// Toast function
function showToast(message) {
    const toast = document.getElementById("toast");
    toast.textContent = message;
    toast.classList.add("show");
    setTimeout(() => toast.classList.remove("show"), 2000);
}

// Copy number function
document.addEventListener("click", function(e) {
    if (e.target.classList.contains("copy-btn")) {
        const number = e.target.getAttribute("data-phone");
        navigator.clipboard.writeText(number).then(() => {
            showToast(`Number copied: ${number}`);
        });
    }
});

// Dropdown toggle
const dropdownBtn = document.querySelector(".dropdown-btn");
const dropdownMenu = document.getElementById("dropdownMenu");

dropdownBtn.addEventListener("click", () => {
    dropdownMenu.classList.toggle("show");
});

// Close menu if clicking outside
document.addEventListener("click", (e) => {
    if (!dropdownBtn.contains(e.target) && !dropdownMenu.contains(e.target)) {
        dropdownMenu.classList.remove("show");
    }
});

// Escape special regex characters
function escapeRegExp(string) {
    return string.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
}

function removeHighlights(element) {
    const highlighted = element.querySelectorAll("span.highlight");
    highlighted.forEach(span => {
        span.replaceWith(span.textContent);
    });
}

function highlightText(element, searchTerm) {
    if (!searchTerm) return;
    const regex = new RegExp(escapeRegExp(searchTerm), "gi");

    element.childNodes.forEach(node => {
        if (node.nodeType === Node.TEXT_NODE) {
            if (regex.test(node.textContent)) {
                const spanWrapper = document.createElement("span");
                spanWrapper.innerHTML = node.textContent.replace(regex, match => `<span class="highlight">${match}</span>`);
                node.replaceWith(...spanWrapper.childNodes);
            }
        } else {
            highlightText(node, searchTerm);
        }
    });
}

document.getElementById("searchBar").addEventListener("input", function() {
    const searchTerm = this.value.trim();
    const cards = document.querySelectorAll(".contact-card");
    let firstMatch = null;

    cards.forEach(card => {
        removeHighlights(card);
        if (searchTerm && card.textContent.toLowerCase().includes(searchTerm.toLowerCase())) {
            highlightText(card, searchTerm);
            if (!firstMatch) firstMatch = card;
        }
    });

    if (firstMatch) {
        firstMatch.scrollIntoView({ behavior: "smooth", block: "center" });
    }
});
</script> 
</body>
</html>