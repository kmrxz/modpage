<!doctype html>
<html lang="en"> 
<head> 
  <meta charset="UTF-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <title>Puncture Help Ernakulam</title> 
  <style>
    body {
        background-color: #04151f;
        color: #ccc;
        font-family: 'Inter', Arial, Helvetica, sans-serif;
        margin: 0;
        padding: 0;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
    }
    h1 {
        color: mediumseagreen;
        text-align: center;
        font-size: 2.2rem;
        font-weight: 700;
        margin: 2rem 0 1rem 0;
        letter-spacing: 1px;
    }

    /* ---- Top bar ---- */
    .top-bar {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 12px;
        margin: 0 auto 2rem auto;
        max-width: 600px;
        padding: 0 1rem;
    }

    #searchBar {
        flex: 1;
        max-width: 260px;
        padding: 12px;
        border-radius: 8px;
        border: none;
        font-size: 1rem;
        background: #23283a;
        color: #fff;
        outline: none;
        box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }

    /* ---- Dropdown ---- */
    .dropdown {
        position: relative;
    }

    .dropdown-btn {
        background: linear-gradient(90deg, mediumseagreen 60%, #28a745 100%);
        color: #fff;
        padding: 12px 20px;
        font-size: 1rem;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-weight: 600;
        box-shadow: 0 2px 8px rgba(40,167,69,0.12);
        outline: none;
        text-decoration: none !important;
    }

    .dropdown-content {
        display: none;
        position: absolute;
        right: 0;
        top: 110%;
        background-color: #031018;
        min-width: 160px;
        box-shadow: 0px 8px 16px rgba(0,0,0,0.2);
        border-radius: 5px;
        z-index: 1;
    }

    .dropdown-content a {
        color: #ccc;
        padding: 10px 14px;
        text-decoration: none !important;
        display: block;
        font-weight: 500;
        border-radius: 4px;
        transition: background 0.2s;
    }

    .dropdown-content a:hover {
        background-color: rgba(40,167,69,0.12);
        color: mediumseagreen;
        text-decoration: none !important;
    }

    .dropdown-content.show {
        display: block;
    }

    /* ---- Contact cards ---- */
    .contact-card {
        background-color: #23283a;
        border-radius: 16px;
        padding: 20px;
        margin: 16px 0;
        box-shadow: 0 2px 12px rgba(0,0,0,0.10);
        transition: box-shadow 0.2s, transform 0.2s;
        display: flex;
        flex-direction: column;
        gap: 8px;
    }
    .contact-card:hover {
        box-shadow: 0 6px 24px rgba(40,167,69,0.18);
        transform: translateY(-2px) scale(1.01);
    }
    .contact-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 12px;
    }
    .name {
        color: mediumseagreen;
        font-weight: 700;
        font-size: 1.15rem;
        letter-spacing: 0.5px;
    }
    .location {
        color: orange;
        font-size: 0.95rem;
        font-weight: 500;
    }
    .phone {
        color: #fff;
        margin: 8px 0;
        font-size: 1.3rem;
        font-family: 'Inter', Arial, Helvetica, sans-serif;
        letter-spacing: 1px;
        font-weight: 500;
    }
    .btn-container {
        display: flex;
        gap: 12px;
        margin-top: 6px;
    }
    .btn {
        background: linear-gradient(90deg, mediumseagreen 60%, #28a745 100%);
        color: #fff;
        border: none;
        padding: 10px 18px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 600;
        box-shadow: 0 2px 8px rgba(40,167,69,0.12);
        outline: none;
        text-decoration: none !important;
        transition: background 0.2s, box-shadow 0.2s, transform 0.2s;
        display: inline-block;
    }
    .btn:hover {
        background: linear-gradient(90deg, #28a745 0%, mediumseagreen 100%);
        box-shadow: 0 4px 16px rgba(40,167,69,0.18);
        transform: scale(1.06);
        text-decoration: none !important;
    }
    .highlight {
        background-color: yellow;
        color: black;
    }

    /* ---- Toast ---- */
    #toast {
        visibility: hidden;
        min-width: 200px;
        background-color: #333;
        color: #fff;
        text-align: center;
        border-radius: 5px;
        padding: 10px;
        position: fixed;
        z-index: 1000;
        left: 50%;
        bottom: 30px;
        transform: translateX(-50%);
        font-size: 14px;
        opacity: 0;
        transition: opacity 0.5s, bottom 0.5s;
    }
    #toast.show {
        visibility: visible;
        opacity: 1;
        bottom: 50px;
    }

    /* ---- Footer ---- */
    footer {
      background-color: #031018;
      color: #ccc;
      padding: 18px 10px;
      margin-top: 30px;
      text-align: center;
      font-size: 14px;
      border-top: 1px solid rgba(255,255,255,0.08);
    }
        footer a {
            color: mediumseagreen;
            text-decoration: none !important;
            font-weight: 600;
            transition: color 0.2s;
        }
        footer a:hover {
            color: #28a745;
            text-decoration: none !important;
        }
    @media (max-width: 700px) {
        .top-bar {
            flex-direction: column;
            gap: 10px;
            padding: 0 0.5rem;
        }
        h1 {
            font-size: 1.3rem;
            margin: 1.2rem 0 0.7rem 0;
        }
        .contact-card {
            padding: 12px;
            margin: 10px 0;
        }
        .btn {
            padding: 8px 12px;
            font-size: 0.95rem;
        }
    }
  </style> 
</head> 
<body> 
  <h1>Mobile Puncture Ekm</h1>

  <!-- Top bar with search + dropdown -->
  <nav class="top-nav" style="width:100%;background:#23283a;padding:0.7rem 0.5rem 0.7rem 0.5rem;display:flex;justify-content:center;align-items:center;gap:2rem;margin-bottom:2rem;border-radius:10px;flex-wrap:wrap;">
      <a href="https://kmrxz.github.io/modpage/main.html" style="color:mediumseagreen;font-weight:600;text-decoration:none;font-size:1rem;">Home</a>
      <a href="apps.html" style="color:mediumseagreen;font-weight:600;text-decoration:none;font-size:1rem;">Apps</a>
      <a href="files/settings.html" style="color:mediumseagreen;font-weight:600;text-decoration:none;font-size:1rem;">Settings</a>
      <a href="about.html" style="color:mediumseagreen;font-weight:600;text-decoration:none;font-size:1rem;">About</a>
    </nav>
    <div class="top-bar" style="margin-top:0;">
        <div style="display: flex; align-items: center; gap: 10px; width: 100%;">
                <input type="text" id="searchBar" placeholder="Search..." style="flex: 1; min-width: 120px;">
                <button id="searchBtn" class="btn" style="padding: 10px 14px; min-width: 44px; display: flex; align-items: center; justify-content: center;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8" stroke="white" stroke-width="2"/><line x1="21" y1="21" x2="16.65" y2="16.65" stroke="white" stroke-width="2"/></svg>
                </button>
                <select id="locationDropdown" class="btn" style="padding: 10px 18px; min-width: 80px; background: #23283a; color: #fff; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600;">
                        <option value="">Locations</option>
                </select>
        </div>
    </div>

  <div id="contacts"></div> 
  <div id="toast">Number copied!</div> 

  <footer> 
    <a href="https://wa.me/+919895700438?text=Hii,i+would+like+to+add+this+number+to+your+webpage">
      <button class="btn">Add NUMBER</button>
    </a>
    <div class="footer-content"> 
      <p>Sibichan ee pageinte ishwaryam</p> 
      <p>Non profitable webpage</p> 
    </div> 
  </footer> 

<script>
const contacts = [
    { name: "Solo Tech(extra distance available)", location: "Vyttila", phone: "+91 86505 05034" },
    { name: "No name", location: "Kakkanad", phone: "+91 95671 77597" },
    { name: "Shihab", location: "Kalamassery", phone: "+91 97464 78468" },
    { name: "No name", location: "Ekm south", phone: "+91 94476 63150" },
    { name: "No name", location: "Ernakulam", phone: "+91 98460 14385" },
    { name: "Nil", location: "All ekm", phone: "+91 98951 67548" },
    { name: "Nil", location: "Elamakkara", phone: "+91 97477 68406" },
    { name: "Saiju", location: "Eroor", phone: "+91 97460 73764" },
    { name: "Nil", location: "Kakkanadu", phone: "+91 80896 51125" },
    { name: "Nil", location: "Maradu", phone: "+91 99475 90559" },
    { name: "Name", location: "Thevara", phone: "+91 98955 24946" },
    { name: "Name", location: "Panampilli", phone: "+91 88485 81492" },
    { name: "Name", location: "Pulleppadi", phone: "+91 98461 11295" },
    { name: "Name", location: "Banerji road", phone: "+91 77366 43204" },
    { name: "Name", location: "Kalamassery", phone: "+91 80896 51125" },
    { name: "Name", location: "Thoppumpadi", phone: "+91 86063 68187" },
    { name: "Name", location: "Pallimukku", phone: "+91 98473 95539" },
    { name: "Name", location: "Locatiom", phone: "+91 0000000000" }
];

const container = document.getElementById("contacts");
const locationDropdown = document.getElementById("locationDropdown");

// Get unique locations for dropdown
const locations = Array.from(new Set(contacts.map(c => c.location))).sort();
locations.forEach(loc => {
    const option = document.createElement("option");
    option.value = loc;
    option.textContent = loc;
    locationDropdown.appendChild(option);
});

function renderContacts(filteredContacts) {
    container.innerHTML = "";
    filteredContacts.forEach(c => {
        const card = document.createElement("div");
        card.className = "contact-card";
        card.innerHTML = `
            <div class="contact-header">
                <div class="name">${c.name}</div>
                <div class="location">${c.location}</div>
            </div>
            <div class="phone">${c.phone}</div>
            <div class="btn-container">
                <a href="tel:${c.phone.replace(/\s/g, '')}" class="btn">CALL</a>
                <button class="btn copy-btn" data-name="${c.name}" data-location="${c.location}" data-phone="${c.phone}">COPY</button>
                <button class="btn share-btn" data-name="${c.name}" data-location="${c.location}" data-phone="${c.phone}">SHARE</button>
            </div>
        `;
        container.appendChild(card);
    });
}

function getFilteredContacts() {
    const searchTerm = document.getElementById("searchBar").value.trim().toLowerCase();
    const selectedLocation = locationDropdown.value;
    let filtered = contacts;
    if (selectedLocation) {
        filtered = filtered.filter(c => c.location === selectedLocation);
    }
    if (searchTerm) {
        filtered = filtered.filter(c =>
            c.name.toLowerCase().includes(searchTerm) ||
            c.location.toLowerCase().includes(searchTerm) ||
            c.phone.toLowerCase().includes(searchTerm)
        );
    }
    // Sort by location if selected
    if (selectedLocation) {
        filtered = filtered.sort((a, b) => a.name.localeCompare(b.name));
    }
    return filtered;
}

function runSearchHighlight() {
    renderContacts(getFilteredContacts());
    // Highlight matches (only location names)
    const searchTerm = document.getElementById("searchBar").value.trim();
    if (!searchTerm) return;
    const cards = document.querySelectorAll(".contact-card");
    let firstMatch = null;
    cards.forEach(card => {
        removeHighlights(card);
        // Highlight each word in the search term only in location
        const locationDiv = card.querySelector('.location');
        searchTerm.split(/\s+/).forEach(word => {
            if (word && locationDiv.textContent.toLowerCase().includes(word.toLowerCase())) {
                highlightText(locationDiv, word);
                if (!firstMatch) firstMatch = card;
            }
        });
    });
    if (firstMatch) {
        firstMatch.scrollIntoView({ behavior: "smooth", block: "center" });
    }
}

document.getElementById("searchBar").addEventListener("input", runSearchHighlight);
document.getElementById("searchBtn").addEventListener("click", runSearchHighlight);
locationDropdown.addEventListener("change", runSearchHighlight);

// Initial render
renderContacts(contacts);

// Toast function
function showToast(message) {
    const toast = document.getElementById("toast");
    toast.textContent = message;
    toast.classList.add("show");
    setTimeout(() => toast.classList.remove("show"), 2000);
}

// Copy number function
document.addEventListener("click", function(e) {
    if (e.target.classList.contains("copy-btn")) {
        const name = e.target.getAttribute("data-name");
        const location = e.target.getAttribute("data-location");
        const phone = e.target.getAttribute("data-phone");
        const text = `${name}, ${location}, ${phone}`;
        navigator.clipboard.writeText(text).then(() => {
            showToast(`Copied: ${text}`);
        });
    }
    if (e.target.classList.contains("share-btn")) {
        const name = e.target.getAttribute("data-name");
        const location = e.target.getAttribute("data-location");
        const phone = e.target.getAttribute("data-phone");
        const text = `${name}, ${location}, ${phone}`;
        if (navigator.share) {
            navigator.share({
                title: 'Contact Info',
                text: text
            });
        } else {
            showToast('Share not supported');
        }
    }
});

// Hamburger dropdown toggle
const hamburgerBtn = document.getElementById("hamburgerBtn");
const dropdownMenu = document.getElementById("dropdownMenu");

hamburgerBtn.addEventListener("click", (e) => {
    e.stopPropagation();
    dropdownMenu.classList.toggle("show");
});

// Close menu if clicking outside
document.addEventListener("click", (e) => {
    if (!hamburgerBtn.contains(e.target) && !dropdownMenu.contains(e.target)) {
        dropdownMenu.classList.remove("show");
    }
});

// Escape special regex characters
function escapeRegExp(string) {
    return string.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
}

function removeHighlights(element) {
    const highlighted = element.querySelectorAll("span.highlight");
    highlighted.forEach(span => {
        span.replaceWith(span.textContent);
    });
}

function highlightText(element, searchTerm) {
    if (!searchTerm) return;
    const regex = new RegExp(escapeRegExp(searchTerm), "gi");

    element.childNodes.forEach(node => {
        if (node.nodeType === Node.TEXT_NODE) {
            if (regex.test(node.textContent)) {
                const spanWrapper = document.createElement("span");
                spanWrapper.innerHTML = node.textContent.replace(regex, match => `<span class="highlight">${match}</span>`);
                node.replaceWith(...spanWrapper.childNodes);
            }
        } else {
            highlightText(node, searchTerm);
        }
    });
}

function runSearchHighlight() {
    const searchTerm = document.getElementById("searchBar").value.trim();
    const cards = document.querySelectorAll(".contact-card");
    let firstMatch = null;
    cards.forEach(card => {
        removeHighlights(card);
        if (searchTerm && card.textContent.toLowerCase().includes(searchTerm.toLowerCase())) {
            highlightText(card, searchTerm);
            if (!firstMatch) firstMatch = card;
        }
    });
    if (firstMatch) {
        firstMatch.scrollIntoView({ behavior: "smooth", block: "center" });
    }
}
document.getElementById("searchBar").addEventListener("input", runSearchHighlight);
document.getElementById("searchBtn").addEventListener("click", runSearchHighlight);
</script> 
</body>
</html>